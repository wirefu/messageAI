# Testing & Git Workflow - File Structure

## Created Files

### 1. Cursor AI Rules (AI follows these automatically)
.cursor/rules/
└── dev-workflow.mdc                    # Testing automation, manual prompts, git workflow

### 2. GitHub Actions (Runs automatically on push)
.github/workflows/
├── ios-tests.yml                       # Tests + Linting + Coverage
├── firebase-functions.yml              # Cloud Functions validation
└── auto-commit.yml                     # Manual commit helper

### 3. Documentation (For you and the AI)
.doc/
├── WORKFLOW-SETUP-SUMMARY.md           # 🌟 START HERE - Complete overview
├── development-workflow-guide.md       # Full workflow reference
├── manual-test-template.md             # Copy this for each manual test
├── ai-testing-protocol.md              # Rules the AI follows
├── QUICK-REFERENCE.md                  # Quick command lookup
└── workflow-structure.txt              # This file

### 4. Updated Files
package.json                            # Added test scripts
.cursor/rules/README.md                 # Updated to include dev-workflow.mdc
.doc/README.md                          # Added workflow documentation section

### 5. Root Summary
TESTING-AND-GIT-SETUP.md               # Complete setup summary (in root)

---

## How It Works

┌─────────────────────────────────────────────────────────────┐
│                    PR Development Flow                       │
└─────────────────────────────────────────────────────────────┘

1. YOU: "Implement PR08"
        ↓
2. AI:  Writes code
        Writes tests
        ↓
3. AI:  Runs tests automatically ✅
        npm run verify
        ↓
4. AI:  UI changes detected?
        Yes → Prompts manual testing with checklist
        No  → Skip to step 6
        ↓
5. YOU: Test on simulator (5-10 min)
        Report: ✅ PASS or ❌ FAIL
        ↓
6. AI:  Commits (proper message format)
        Pushes to GitHub
        ↓
7. GitHub Actions: Runs CI/CD automatically
        ✅ Tests pass
        ✅ Linting passes
        ✅ Build succeeds
        ↓
8. ✅ PR Complete! Move to next PR

---

## Quality Gates (Enforced)

Before each commit:
✅ Unit tests pass
✅ Linting passes
✅ Build succeeds
✅ Manual testing done (if UI)
✅ Proper commit message
✅ Relevant files only

---

## Commands Available

Testing:
  npm run test              # All tests
  npm run test:unit         # Unit tests only
  npm run test:coverage     # With coverage

Verification:
  npm run verify            # Full check
  npm run precommit         # Pre-commit checks
  npm run git:check         # See changes

Development:
  npm run xcode:generate    # Regenerate project
  sweetpad build            # Build (Cmd+Shift+B)

---

## What's Automatic vs Manual

### Automatic (AI does):
✅ Run unit tests
✅ Run integration tests
✅ Fix linting
✅ Verify builds
✅ Create commits
✅ Push to GitHub
✅ Run CI/CD

### Manual (You do):
🧪 Test UI/UX (when prompted)
👀 Verify GitHub Actions
✅ Report test results

---

## Documentation Reading Order

1. TESTING-AND-GIT-SETUP.md         (Root - Summary of everything)
2. WORKFLOW-SETUP-SUMMARY.md        (.doc - How it all works)
3. QUICK-REFERENCE.md               (.doc - Commands & tips)
4. development-workflow-guide.md    (.doc - Full details)
5. manual-test-template.md          (.doc - Use when testing)
6. ai-testing-protocol.md           (.doc - AI rules reference)

---

Status: ✅ COMPLETE
Date: October 23, 2025
